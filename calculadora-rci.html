<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Calculadora RCI - Montos Otorgables</title>
<style>
body { font-family: Arial; margin: 20px; }
input, select { padding: 6px; margin: 4px; }
table { border-collapse: collapse; width: 100%; margin-top: 15px; }
th, td { border: 1px solid #ccc; padding: 6px; text-align: right; }
th { background: #eee; }
.alert { color: red; font-weight: bold; margin-top: 10px; }
</style>
</head>

<body>

<h2>Calculadora RCI – Montos Otorgables</h2>

<label>Sueldo neto:</label>
<input type="number" id="sueldo"><br>

<label>Total deuda BCRA (todas las situaciones):</label>
<input type="number" id="deuda"><br>

<label>Cuotas:</label>
<select id="cuotas">
  <option value="6">6</option>
  <option value="12">12</option>
  <option value="18">18</option>
  <option value="24">24</option>
  <option value="36">36</option>
</select><br>

<button onclick="calcular()">Calcular</button>

<div id="resultado"></div>

<script>
const grilla = [
 {capital:1000000, cuotas:36, cuota:234039.97, tasa:231.99},
 {capital:1000000, cuotas:24, cuota:243343.46, tasa:240},
 {capital:1000000, cuotas:18, cuota:259616.01, tasa:253.17},
 {capital:1000000, cuotas:12, cuota:279430.77, tasa:260.20},

 {capital:900000, cuotas:36, cuota:210635.97, tasa:231.99},
 {capital:900000, cuotas:24, cuota:219009.11, tasa:240},
 {capital:900000, cuotas:18, cuota:233654.41, tasa:253.17},
 {capital:900000, cuotas:12, cuota:251487.70, tasa:260.20},

 {capital:800000, cuotas:36, cuota:187231.97, tasa:231.99},
 {capital:800000, cuotas:24, cuota:194674.76, tasa:240},
 {capital:800000, cuotas:18, cuota:207692.81, tasa:253.17},
 {capital:800000, cuotas:12, cuota:223544.62, tasa:260.20},

 {capital:700000, cuotas:36, cuota:163827.98, tasa:231.99},
 {capital:700000, cuotas:24, cuota:170340.42, tasa:240},
 {capital:700000, cuotas:18, cuota:181731.21, tasa:253.17},
 {capital:700000, cuotas:12, cuota:195601.54, tasa:260.20},

 {capital:600000, cuotas:36, cuota:140423.98, tasa:231.99},
 {capital:600000, cuotas:24, cuota:146006.07, tasa:240},
 {capital:600000, cuotas:18, cuota:155769.61, tasa:253.17},
 {capital:600000, cuotas:12, cuota:167658.46, tasa:260.20},

 {capital:500000, cuotas:36, cuota:117019.98, tasa:231.99},
 {capital:500000, cuotas:24, cuota:121671.73, tasa:240},
 {capital:500000, cuotas:18, cuota:129808.01, tasa:253.17},
 {capital:500000, cuotas:12, cuota:139715.39, tasa:260.20}
];

function calcular() {
  const sueldo = Number(document.getElementById("sueldo").value);
  const deuda = Number(document.getElementById("deuda").value);
  const cuotasSel = Number(document.getElementById("cuotas").value);
  const resultado = document.getElementById("resultado");

  resultado.innerHTML = "";

  if (!sueldo || !deuda) return;

  const endeudamiento = deuda / sueldo;
  let rci = 0;

  if (endeudamiento <= 10) rci = 0.15;
  else if (endeudamiento <= 15) rci = 0.10;
  else {
    resultado.innerHTML = "<div class='alert'>ENDEUDAMIENTO MAYOR A 15 SUELDOS – RIESGO / ANÁLISIS</div>";
    return;
  }

  const cuotaMax = sueldo * rci;

  const filtrados = grilla.filter(g =>
    g.cuotas === cuotasSel && g.cuota <= cuotaMax
  );

  if (filtrados.length === 0) {
    resultado.innerHTML = "<div class='alert'>No hay montos otorgables para ese RCI</div>";
    return;
  }

  let html = `<table>
    <tr>
      <th>Capital</th>
      <th>Cuotas</th>
      <th>Cuota</th>
      <th>Tasa</th>
    </tr>`;

  filtrados.forEach(f => {
    html += `<tr>
      <td>${f.capital.toLocaleString()}</td>
      <td>${f.cuotas}</td>
      <td>${f.cuota.toLocaleString()}</td>
      <td>${f.tasa}%</td>
    </tr>`;
  });

  html += "</table>";
  resultado.innerHTML = html;
}
</script>

</body>
</html>

